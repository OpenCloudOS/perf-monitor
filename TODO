perf-monitor 目前定位是做内核和用户应用的数据分析工具，可以分析内核态，也可以分析用户应用。

一、目前具备的功能
1. libperf和libtraceevent基础功能。解析perf采样，解析tracepoint点。
2. 已支持内存泄露、kvm-exit、mpdelay等基本机制。
3. 用户态栈、内核栈打印能力。
4. 模块化，可扩展，可裁减，损耗低。适合高性能监控场景。

二、策略与机制分离
数据分析，主要提供数据分析的机制，不提供具体策略。

如 内存泄露，其机制就是分配后未释放，确定内存分配时的栈；
  不需要特定指用户态的内存分配器还是内核态的，内核内存分配器有很多，用户态内存分配器也很多，都应该能支持。
如 mpdelay，测量多个点之间的延迟。
  不需要特定指定内核态多个点之间，还是用户进程多个点之间。内核态借助tracepoint、kprobe，用户态借助USDT、uprobe等。

数据分析，需要提供火焰图，直方图。


三、待改进问题
1. USDT暂时还不支持。
2. 输出栈还不支持转换成火焰图。
3. 内存泄露，不支持栈聚合。相同的栈报告内存泄露总量，而不是重复报告。
4. 内存profile功能。
5. 栈输出，要独立出来，作为基本功能，不需要每个模块都实现。
6. ksyms内核符号不识别新加载模块的符号。syms用户符号不识别新加载动态库的符号。
7. traceevent_plugin 插件加载。
8. 硬件pmu事件监控。
9. ebpf支持的工具移植。

